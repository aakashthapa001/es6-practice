<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Destructuring</title>
</head>
<body>
  
  <script>
    // DESTRUCTURING OBJECTS
    // EG: 1 => Simple object data
    const person = {
      first: 'Aakash',
      last: 'Thapa',
      country: 'Nepal',
      city: 'Kathmandu',
      twitter: '@chimseryOo'
    };

    // const { first, last, twitter } = person;
    // fisrt === person.first
    // console.log(first, last, twitter);

    // EG: 2 => Nested object data
    const aakash = {
      first: 'Aakash',
      last: 'Thapa',
      links: {
        social: {
          twitter: 'https://twitter.com/chimseryOo',
          facebook: 'https://www.facebook.com/thapa.aakash100'
        },
        web: {
          blog: 'https://aakashThapa.com'
        }
      }
    };

    // You can rename your key when destructuring like:- twitter:tweet
    const { twitter:tweet, facebook:fb } = aakash.links.social;
    // after => twitter === tweet

    // EG: 2 => Setting Defaults
    const settings = {width: 300, color: 'black'}; // needs height, fontSize
    const { width = 100, height = 100, color = 'hotpink', fontSize = 30 } = settings;

    // -> width === 300, height === 100, color === 'black', fontSize === 30

    // EG: 3 => Object Destructuring with vatiable renaming and default values
    const { w: newWidth = 400, h: newHeight = 500 } = { w: 800 };

    // DESTRUCTURING OBJECTS End

    
    // DESTRUCTURING ARRAYS
    // EG: 1 => Arrays with index based items
    const details = ['Aakash Thapa', 125, 'aakashthapa.com'];
    const [ name, id, website ] = details;
    console.log(name, id, website);

    // EG: 2 => Arrays with comma seperated string or list
    const data = 'Football,Sports,12345,80,aakash,thapa,cool';
    const [itemName, category, sku, inventory] = data.split(',');
    console.log(itemName, category, sku, inventory); // -> will not print if not assigned to a variable

    // EG: 3 => Arrays with comma seperated string or list and also print rest of the items
    const team = ['Aakash', 'Ajit', 'Sushant', 'Rabin', 'Sanjaya', 'Zanam'];
    const [captain, assistant, ...players] = team;
    console.log(captain, assistant, players); // -> players will be an array of all the items which are not assisgned to a variable

    // DESTRUCTURING ARRAYS End


    // SWAPING VARIABLES WITH DESTRUCTURING
    // EG: 1 => 
    let inRing = 'John Cena';
    let outRing = 'The Rock';

    console.log(inRing, outRing);
    [inRing, outRing] = [outRing, inRing];
    console.log(inRing, outRing);

    // SWAPING VARIABLES WITH DESTRUCTURING End


    // DESTRUCTURING FUNCTIONS
    // EG: 1 => Multiple returns
    function convertCurrency(amount) {
      const converted = {
        USD: amount * 0.76,
        GPB: amount * 0.53,
        AUD: amount * 1.01,
        MEX: amount * 13.30
      };
      return converted;
    }

    const { USD, GPB, AUD } = convertCurrency(100);
    console.log(USD, GPB, AUD);

    // EG: 1 => Default named arguments
    function tipCalc({ total = 200, tip = 0.15, tax = 0.13 }) {
      return total + (tip * total) + (tax * total);
    }

    const bill = tipCalc({ total: 200, tax: 0.19 });
    console.log(bill);

    // What if we pass nothing? => Error


    // DESTRUCTURING FUNCTIONS End
    
  </script>
</body>
</html>